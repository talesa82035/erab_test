;-------------------------------------------------
;セックス処理
;-------------------------------------------------
@性処理NAME_セックス処理
#FUNCTIONS
TSTR:コマンド名受渡 = セックス処理

@性処理_TOOLTIP_セックス処理
LOCALS = <br>■セックス処理<br>
LOCALS += @"%CALLNAME:PLAYER%のペニスをＶ挿入でしごいてもらう性処理。<br>"
LOCALS += "要求好感度は高く、殆どのキャラは陥落が前提。<br>"
LOCALS += "<br>COMタイプ：性処理<br>取得ソース：快Ｖ・露出・接触・奉仕・不潔"
LOCALS += "<br>固有の取得経験：Ｖ性交経験(TARGET)<br>"
TSTR:ツールチップ受渡 = %LOCALS%

@性処理_セックス処理
#DIM 行為回数

;射精するまで刺激する
行為回数 = 0
DO
	CALL SOURCE_CALC_快Ｃ(PLAYER, TARGET, 350)
	CALL SOURCE_CALC_快Ｖ(TARGET, PLAYER, 400)
	行為回数++
LOOP CUP:PLAYER:快Ｃ + PALAM:PLAYER:快Ｃ < 10000
TIME += 0

CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
CALL SOURCE_CALC_接触(TARGET, PLAYER, 250)
CALL SOURCE_CALC_奉仕(TARGET, PLAYER, 500)

;苦痛
LOCAL = 200 * PAIN_CHECK_V(TARGET) / 1000
CALL SOURCE_CALC_苦痛(TARGET, PLAYER, LOCAL)
;貞操観念
IF !TALENT:恋慕
	IF TALENT:貞操 == 1
		CALL SOURCE_CALC_不潔(TARGET, PLAYER, 500)
	ELSEIF TALENT:貞操 == 0
		CALL SOURCE_CALC_不潔(TARGET, PLAYER, 250)
	ENDIF
ENDIF

;奉仕快楽
RCVAR:TARGET:奉仕コマンドフラグ = 1

;処女喪失
CALL LOST_VIRGIN(TARGET, PLAYER, 1)
CALL LOST_MAN_VIRGIN(PLAYER, TARGET)


;-------------------------------------------------
;経験の処理
;-------------------------------------------------
EXP:Ｖ性交経験 ++
EXP:PLAYER:Ｃ性交経験_Ｖ挿入 ++

;同性愛
SIF 同性愛性癖判定(PLAYER,TARGET)
	EXP:PLAYER:同性愛経験 += 12
SIF 同性愛性癖判定(TARGET,PLAYER)
	EXP:TARGET:同性愛経験 += 12

;愛情経験
SIF TALENT:恋慕
	EXP:愛情経験 ++

;売春経験がない相手に交渉を成立させた場合、あなたの買春カウントが進む
;これにより「あなたが何人買ったか」の記録とする。
;最初から売春経験を持ってるキャラに関しては……知らん！！！
SIF EXP:TARGET:売春経験 == 0
	EXP:PLAYER:買春経験 += 1

EXP:TARGET:売春経験 += 1


RETURN 1


@性処理_射精時処理_セックス処理()
;射精時にどこに出すかを呼び出す
;とはいってもフィニッシュ場所を入れて関数呼ぶだけ
IF 陥落チェック(TARGET)
	CALL 射精実処理(PLAYER, TARGET, 0)
	RETURN 1
ELSE
	SELECTCASE RAND:4
	CASE 0
		;お腹に出す
		CALL 射精実処理(PLAYER, TARGET, 6)
		RETURN 1
	CASE 1
		;背中……というか尻に出す
		CALL 射精実処理(PLAYER, TARGET, 7)
		RETURN 1
	CASEELSE
		;無許可中出し
		CALL 射精実処理(PLAYER, TARGET, 0)
		RETURN 1
	ENDSELECT
ENDIF
RETURN 0


;-------------------------------------------------
;値段設定
;-------------------------------------------------
@CAN_性処理_セックス処理(対象キャラ)
#DIM 対象キャラ
#DIM 値段計算
#DIMS 素質名

PRINTFORML セックス処理計算(%CALLNAME:TARGET%)
DRAWLINE

;基礎値段
IF NO:TARGET > 1000
;EXキャラ
;元いた世界でのカラダの価値はわかっても、空の世界での売春相場を知らない。おまけにルピもたいして持ってないのでまとまったお金がありがたい。
;現実の一般JKが空の世界に来て5万円のつもりで5000ルピでカラダを売るイメージ。総じてリゾート内の価格帯から見ると格安。
;……グラブルキャラたちの基本料金が高いだけ？それはそう。
	SELECTCASE RAND:2
	CASE 0
	;10万円のつもり。これでも超高額のつもりで強気の値段交渉してる。
		値段計算 = 10000
	CASE 1
	;5万円のつもり。これでも相場よりやや高めのつもりで値段交渉してる。
		値段計算 = 5000
	ENDSELECT
	PRINTFORML %"基本料金", 25, LEFT%：　%NUM_FORMAT(値段計算), 8%ルピ
ELSEIF TALENT:幼稚
	;幼稚
	;性知識うんぬん以前に、そもそもお金の価値に対する理解が足りていない。
	;自分のカラダの価値も理解していないので、「お菓子いっぱいあげるから」とかでも許しちゃったりするイメージ。でも値段表示する仕様上お菓子たくさんとかでは買えない。
	;本人は精一杯吹っ掛けているつもりで「じゅーまんえんくれるならいいよ」って言っても、他キャラの相場から見れば格安だったりする。
	;でもちょいちょい「ひゃくまんえん！」とか言いはじめる。
	SELECTCASE RAND:100
	;５割で超高額提示
	CASE 0 TO 24
		PRINTFORML %"基本料金", 25, LEFT%：　ひゃくまんルピ！
		値段計算 = 1000000
	CASE 25 TO 49
		PRINTFORML %"基本料金", 25, LEFT%：　じゅーまんルピ！
		値段計算 = 100000
	CASE 50 TO 74
		PRINTFORML %"基本料金", 25, LEFT%：　いちまんルピ！
		値段計算 = 10000
	CASE 75 TO 98
		PRINTFORML %"基本料金", 25, LEFT%：　せんルピ！
		値段計算 = 1000
	CASE 99
		PRINTFORML %"基本料金", 25, LEFT%：　ひゃくルピでいいよ！
		値段計算 = 100
	ENDSELECT
ELSEIF 知識素質:高貴 > 0
;高貴
;基本的に実家が太い子らなので、そもそも目先の金銭のために体を売っているわけではない。
;お金が欲しいからではなくあなたが頼むから、あなたに喜んでんでほしいから売ってくれているのである。つまり純愛。
	IF 知識素質:性知識 < 0
	;性知識がなくとも、自身のカラダは民草のそれよりも価値があるということを知っている。
	;……のだが、相場知識がないため結局吹っ掛けたつもりでも高貴キャラとしてはお安めの価格設定
		値段計算 = 50000
	ELSE
	;王侯貴族に連なるような高貴な体を100万円で好きにできると考えるとこれでも相当リーズナブル。良心的な価格設定でございます。
		値段計算 = 100000
	ENDIF
	PRINTFORML %"基本料金", 25, LEFT%：　%NUM_FORMAT(値段計算), 8%ルピ
ELSEIF 知識素質:性知識 < 0
;性知識マイナス勢
;お金の価値が分からないわけではないが、カラダの価値の相場を知らないので直感的にいま欲しい金額を言ってくる。
;幼稚ほどブッ飛んだ値段は提示してこないが結局値段はブレる。
	SELECTCASE RAND:4
	;４割で高額提示
	CASE 0
		値段計算 = 100000
	CASE 1
		値段計算 = 50000
	CASE 2
		値段計算 = 30000
	CASE 3
		値段計算 = 20000
	CASE 4
		値段計算 = 10000
	ENDSELECT
	PRINTFORML %"基本料金", 25, LEFT%：　%NUM_FORMAT(値段計算), 8%ルピ
ELSEIF TALENT:非戦闘キャラ
;非戦闘キャラは、「戦うことで稼げる」キャラより相対的に肉体の価値が安く、「カラダを売って稼ぐ」ことへの抵抗感が戦闘キャラより薄いイメージ
	値段計算 = 20000
	PRINTFORML %"基本料金", 25, LEFT%：　%NUM_FORMAT(値段計算), 8%ルピ
ELSEIF TALENT:性転換 == 2
;元男だと嫌がって値段を高めに設定する(でも結局買われて、もう女なんだってことをわからされてしまう)
	値段計算 = 40000
	PRINTFORML %"基本料金", 25, LEFT%：　%NUM_FORMAT(値段計算), 8%ルピ
ELSE
;「基本的にみんな美女である」「普段売っていないので市場価値が高い」「戦闘能力のあるキャラは相応のプライドというものがある」などの理由から
;補正抜きで30000ルピ≒30万円とする。ここに素質で補正がかかり、地の文や口上でのプレイ内容に応じてオプションが上乗せされていく。
	値段計算 = 30000
	PRINTFORML %"基本料金", 25, LEFT%：　%NUM_FORMAT(値段計算), 8%ルピ
ENDIF

;好感度
;好感度閾値の表現からして、親友あたりからお友達料金にしてくれるんじゃないかなと
LOCAL = (50 - CFLAG:好感度レベル) * -100
IF LOCAL < 0
	IF CFLAG:好感度レベル <= 20
	;友達未満だと大きく値上げ。初対面で20万円上乗せされるイメージ。普段身売りしてない美女に値段交渉するんだからそんくらい吹っ掛けてきてもおかしくないと思う。なお従業員採用に必要な好感度……
		PRINTFORML %"まだ親しくない", 25, LEFT%：＋%NUM_FORMAT(LOCAL * -4), 8%ルピ
		値段計算 -= LOCAL * 4
	ELSE
	;ただの友達だと若干の値上げ。値上げっていうかここまで含めて基本料金みたいなとこがある
		PRINTFORML %"ただの友達", 25, LEFT%：＋%NUM_FORMAT(LOCAL * -1), 8%ルピ
		値段計算 -= LOCAL
	ENDIF
ELSE
	;親友以上で値下げしてくれる。基本料金30万円で、好感度100で5000ルピ≒50000円引きならまぁ妥当っちゃ妥当か
	SETCOLOR カラーパレット("ピンク")
	PRINTFORML %"お友達料金", 25, LEFT%：－%NUM_FORMAT(LOCAL), 8%ルピ
	RESETCOLOR
	値段計算 -= LOCAL
ENDIF

;容姿
IF TALENT:容姿 == -1
;あなたがブサイクの場合。あえてつけてる素質のはずだけど、ストレートに「醜い」だの「ブサイク」だの書くとプレイヤーの心にトゲが刺さりそうなため表現はマイルドに
	値段計算 += 1500
	PRINTFORML %"好みの顔じゃない", 25, LEFT%：＋%NUM_FORMAT(1500), 8%ルピ
ENDIF
IF TALENT:容姿 == 1
;イケメン
	値段計算 -= 500
	PRINTFORML %"顔がいい", 25, LEFT%：－%NUM_FORMAT(500), 8%ルピ
ENDIF
IF TALENT:容姿 == 2
;絶世。ちょっと下げ過ぎな気もしないでもない
	値段計算 -= 1500
	PRINTFORML %"めっちゃ顔がいい！", 25, LEFT%：－%NUM_FORMAT(1500), 8%ルピ
ENDIF

;体力
IF BASE:TARGET:体力 < MAXBASE:TARGET:体力 / 4
	値段計算 += 1500
	SETCOLOR カラーパレット("薄ピンク")
	PRINTFORML %"体力低下", 25, LEFT%：＋%NUM_FORMAT(1500), 8%ルピ
	RESETCOLOR
ENDIF

;酩酊は値段ではなくむしろ実行判定にかかわったほうがいい気がするので移動。
;「安く売ってしまう」よりも、「ね、いいでしょ？」ってあなたのお願いに頷いてしまうほうがイメージに近い。

;処女
;使い切りの付加価値なので基本料金よりも値が張る
IF TALENT:TARGET:処女
	IF NO:TARGET > 1000
	;空の相場を知らずに安売りしてしまう哀れなEX娘たち。鮫トレ最高！
		値段計算 += 10000
		SETCOLOR カラーパレット("赤ピンク")
		PRINTFORML %"処女", 25, LEFT%：＋%NUM_FORMAT(10000), 8%ルピ
		RESETCOLOR
	ELSEIF 知識素質:高貴 > 0
	;高貴
		IF 知識素質:性知識 < 0
			値段計算 += 100000
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"ロイヤルヴァージン", 25, LEFT%：＋%NUM_FORMAT(100000), 8%ルピ
			RESETCOLOR
		ELSE
			値段計算 += 200000
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"ロイヤルヴァージン", 25, LEFT%：＋%NUM_FORMAT(200000), 8%ルピ
			RESETCOLOR
		ENDIF
	ELSEIF TALENT:プライド > 0
	;プライド高い
	;基本料金と合わせて100万円になる計算
		値段計算 += 70000
		SETCOLOR カラーパレット("赤ピンク")
		PRINTFORML %"処女", 25, LEFT%：＋%NUM_FORMAT(70000), 8%ルピ
		RESETCOLOR
	ELSEIF TALENT:プライド < 0
	;プライド低い
	;自己評価が低いため、基本料金の倍額貰えればいいやと思っている
		値段計算 += 30000
		SETCOLOR カラーパレット("赤ピンク")
		PRINTFORML %"処女", 25, LEFT%：＋%NUM_FORMAT(30000), 8%ルピ
		RESETCOLOR
	ELSE
		値段計算 += 50000
		SETCOLOR カラーパレット("赤ピンク")
		PRINTFORML %"処女", 25, LEFT%：＋%NUM_FORMAT(50000), 8%ルピ
		RESETCOLOR
	ENDIF
ENDIF

;恋人持ち
IF TALENT:恋人持ち == 2
	値段計算 += 5000
	SETCOLOR カラーパレット("赤ピンク")
	PRINTFORML %"人妻", 25, LEFT%：＋%NUM_FORMAT(5000), 8%ルピ
	RESETCOLOR
ENDIF
IF TALENT:恋人持ち == 1
	値段計算 += 3000
	SETCOLOR カラーパレット("赤ピンク")
	PRINTFORML %"恋人がいる", 25, LEFT%：＋%NUM_FORMAT(3000), 8%ルピ
	RESETCOLOR
ENDIF
IF TALENT:恋人持ち == -1
;別に恋人になってるワケでもないのに「好きな人がいるから」ってだけで生意気にも値段を釣り上げてくるし、上昇幅は恋人持ちと同じ。
;「ゆ、許せねぇよ……絶対買って俺のものにしてやる……！」
;＊ あなたにケツイがみなぎった。
	値段計算 += 3000
	SETCOLOR カラーパレット("ピンク")
	PRINTFORML %"好きな人がいる", 25, LEFT%：＋%NUM_FORMAT(3000), 8%ルピ
	RESETCOLOR
ENDIF
;淫乱
IF TALENT:淫乱
	値段計算 -= 2500
	PRINTFORML %"淫乱", 16, LEFT%：－%NUM_FORMAT(2500), 8%ルピ
ENDIF

;同性愛
IF 同性愛性癖判定(TARGET,PLAYER) == 1
	;性癖素質:同性愛
	IF TALENT:TARGET:性愛傾向 == 1 ||TALENT:TARGET:性愛傾向 == 2
		素質名 = 異性愛
	ELSE
		素質名 = 同性愛
	ENDIF
	SELECTCASE 性癖素質:同性愛
		CASE 1
			;補正なし
		CASE 2
			値段計算 -= 1000
			PRINTFORML %@"%素質名%(愛好)", 25, LEFT%：－%NUM_FORMAT(1000), 8%ルピ
		CASE 3
			値段計算 -= 2500
			PRINTFORML %@"%素質名%(中毒)", 25, LEFT%：－%NUM_FORMAT(2500), 8%ルピ
		CASEELSE
			;好奇心
			IF TALENT:性的興味 > 0
				値段計算 -= 500
				PRINTFORML %@"好奇心(%素質名%)", 25, LEFT%：－%NUM_FORMAT(500), 8%ルピ
			ENDIF
			;保守的
			IF TALENT:性的興味 < 0
				値段計算 += 1500
				SETCOLOR カラーパレット("薄ピンク")
				PRINTFORML %@"保守的(%素質名%)", 25, LEFT%：＋%NUM_FORMAT(1500), 8%ルピ
				RESETCOLOR
			ENDIF
	ENDSELECT
ENDIF

;気丈
;「物怖じせず値段交渉に臨む」とするなら基本料金の一割増しくらいで吹っ掛けそう
IF TALENT:度胸 > 0
	値段計算 += 3000
	SETCOLOR カラーパレット("薄ピンク")
	PRINTFORML %"気丈", 25, LEFT%：＋%NUM_FORMAT(3000), 8%ルピ
	RESETCOLOR
ENDIF
;臆病
;気丈の逆で「高値を吹っ掛けて値段交渉するのが苦手」とするならば一割くらいまけてくれないかな……
IF TALENT:度胸 < 0
	値段計算 -= 3000
	PRINTFORML %"臆病", 25, LEFT%：－%NUM_FORMAT(3000), 8%ルピ
ENDIF

;プライド
;処女のとこでも参照しているが、こちらは基本料金にかかるので別枠。
;プライド高い
IF TALENT:プライド > 0
	値段計算 += 3000
	SETCOLOR カラーパレット("薄ピンク")
	PRINTFORML %"プライド高い", 25, LEFT%：＋%NUM_FORMAT(3000), 8%ルピ
	RESETCOLOR
ENDIF
;プライド低い
IF TALENT:プライド < 0
	値段計算 -= 1500
	PRINTFORML %"プライド低い", 25, LEFT%：－%NUM_FORMAT(1500), 8%ルピ
ENDIF

;性欲
IF TALENT:性欲 >= 1
	値段計算 -= 2000
	SETCOLOR カラーパレット("ピンク")
	PRINTFORML %"性欲強い", 25, LEFT%：－%NUM_FORMAT(2000), 8%ルピ
	RESETCOLOR
ENDIF

;謎の魅力
IF TALENT:PLAYER:謎の魅力
	値段計算 -= 1000
	PRINTFORML %"謎の魅力", 25, LEFT%：－%NUM_FORMAT(1000), 8%ルピ
ENDIF

;ABL:奉仕精神
IF ABL:奉仕精神
	値段計算 -= ABL:奉仕精神 * 200
	PRINTFORML %"奉仕精神", 25, LEFT%：－%NUM_FORMAT(ABL:奉仕精神 * 200), 8%ルピ
ENDIF
;汚臭鈍感
IF TALENT:汚臭耐性 > 0
	値段計算 -= TALENT:汚臭耐性 * 500
	PRINTFORML %GET_TALENTNAME(61, TALENT:汚臭耐性,,TARGET), 25, LEFT%：－%NUM_FORMAT(TALENT:汚臭耐性 * 500), 8%ルピ
ENDIF
;汚臭敏感
IF TALENT:汚臭耐性 < 0
	値段計算 -= TALENT:汚臭耐性 * 1000
	SETCOLOR カラーパレット("薄ピンク")
	PRINTFORML %GET_TALENTNAME(61, TALENT:汚臭耐性,,TARGET), 25, LEFT%：＋%NUM_FORMAT(ABS(TALENT:汚臭耐性) * 1000), 8%ルピ
	RESETCOLOR
ENDIF
;献身的
IF TALENT:献身的
	値段計算 -= 500
	PRINTFORML %"献身的", 25, LEFT%：－%NUM_FORMAT(500), 8%ルピ
ENDIF

;貞操観念による売春への抵抗感。これは値段高めのほうが「らしさ」が出る
IF TALENT:貞操 == 1
	値段計算 += 5000
	SETCOLOR カラーパレット("ピンク")
	PRINTFORML %"貞操観念", 25, LEFT%：＋%NUM_FORMAT(5000), 8%ルピ
	RESETCOLOR
ENDIF

;男嫌い
IF TALENT:性別嗜好 == 1 && TALENT:PLAYER:性別 == 2
	値段計算 += 3000
	SETCOLOR カラーパレット("赤")
	PRINTFORML %"男嫌い", 25, LEFT%：＋%NUM_FORMAT(3000), 8%ルピ
	RESETCOLOR
ENDIF

;この時点で値段がマイナスになっていた場合、強制的に0まで戻す。買ってるはずなのに買われてんじゃねぇ！
SIF 値段計算 < 0
	値段計算 = 0

;割引クーポンはひとつまでです！
IF TALENT:対象キャラ:恋慕
	DRAWLINE
	PRINTFORML 割引き
;恋慕は完全無料
	SETCOLOR カラーパレット("ピンク")
	PRINTFORM %"だいすき割", 25, LEFT%：　　　　　%CALLNAME:PLAYER%限定100％オフ
	CALL PRINT_STRL(@"_H_")
	RESETCOLOR
	値段計算 *= 0
ELSEIF TALENT:対象キャラ:弱味
	DRAWLINE
	PRINTFORML 割引き
	;弱みを握ってはした金で体を売らせたい！という鉄の意志
	;せっかく値段が出るんだしタダで抱かせてもらうよりも「100円で買ってあげた」みたいののほうが尊厳を性的搾取できている感が出るので
	;本来は30,000ルピ……ですが！なんと！今回に限り！お客様だけに！99%オフの300ルピで！！のほうが絶対にシコれる。古事記にもそう書かれている。
	SETCOLOR カラーパレット("赤ピンク")
	PRINTFORM %"弱み", 25, LEFT%：　　　　　99％オフ
	CALL PRINT_STRL(@"_H_")
	RESETCOLOR
	値段計算 /= 100
	;ELSEIF TALENT:金欠 || TALENT:貧乏
	;お金に困っているときはちょっとお安くなるが、発情期のムラムラは値段に適用されなくなる。買っては欲しいがお金も欲しいため。
	;	SETCOLOR カラーパレット("薄ピンク")
	;	PRINTFORM %"金欠中", 25, LEFT%：　　　　　25％オフ
	;	CALL PRINT_STRL(@"_H_")
	;	RESETCOLOR
	;	値段計算 /= 4 *= 3
ELSEIF CFLAG:TARGET:発情期フラグ < 0 && BASE:TARGET:性欲 >= 500
	DRAWLINE
	PRINTFORML 割引き
	;発情期
	IF BASE:TARGET:性欲 >= 1000
		SETCOLOR カラーパレット("ピンク")
		PRINTFORM %"発情期でムラムラ中", 25, LEFT%：　　　　　30％オフ
		CALL PRINT_STRL(@"_H_")
		RESETCOLOR
		値段計算 /= 10
		値段計算 *= 7
	ELSE
		SETCOLOR カラーパレット("ピンク")
		PRINTFORM %"発情期でムラムラ中", 25, LEFT%：　　　　　10％オフ
		CALL PRINT_STRL(@"_H_")
		RESETCOLOR
		値段計算 /= 10
		値段計算 *= 9
	ENDIF
ENDIF

DRAWLINE
IF TALENT:対象キャラ:恋慕
	値段計算 = -1
ELSE
	値段計算 = MAX(0, 値段計算)
ENDIF
IF 値段計算 > 0
	PRINTFORML %"合計値段", 25, LEFT%：　%NUM_FORMAT(値段計算), 8%ルピ
ELSE
	PRINTFORM %"合計値段", 25, LEFT%：　%"無料", 8%
	CALL PRINT_STRL(@"_H_")
ENDIF

RETURN 値段計算

;-------------------------------------------------
;実行判定
;-------------------------------------------------
@性処理_ABLE_セックス処理
#DIM ループ用
#DIM 許可好感度
#DIM 補正後好感度

;RETURN 0は非表示
SIF GETBIT(TALENT:PLAYER:性別, 1) == 0
	RETURN 0
SIF TALENT:PLAYER:Ｃ感度 == -2
	RETURN 0
SIF TALENT:PLAYER:射精不可
	RETURN 0
SIF GETBIT(TALENT:TARGET:性別, 0) == 0
	RETURN 0
SIF TALENT:TARGET:Ｖ感度 == -2
	RETURN 0

;RETURN -1は表示するが選択出来ない
;泥酔はここに移動
許可好感度 = 100
補正後好感度 = 補正後好感度算出(TARGET)
SIF TALENT:TARGET:処女
	補正後好感度 -= 20
SIF BASE:酩酊 > MAXBASE:酩酊 / 2
	補正後好感度 += 30
;経験があなたを強くする
LOCAL = EXP:PLAYER:買春経験
補正後好感度 += LOCAL
IF あなた特殊能力:ルピえっち交渉術
;口がうまくなったことで未陥落の一般客に通りやすくなった、ということで補正をかけておく。習得にかかった労力ぶんのリワード。
;だ、だって……パパ活って一期一会みたいなイメージだし……好感度高くなくても通るイメージだし……
;かわりに低好感度だと補正によってルピ消費ががっつり増える。
	補正後好感度 += 50
ENDIF
;固有補正を有効に出来るよう、素質はここ
SIF TALENT:性処理不可 && !陥落チェック_性的(TARGET)
	補正後好感度 = 0
TRYCCALLFORM 性処理業務固有補正_可不可_{NO:TARGET}_セックス処理(TARGET, 補正後好感度)
	補正後好感度 = RESULT
CATCH
ENDCATCH
SIF 許可好感度 > 補正後好感度
	RETURN -1

RETURN 1


;-------------------------------------------------
;メッセージ
;-------------------------------------------------

@MESSAGE_性処理_セックス処理
#DIM 対象キャラ
#DIM 値段計算
#DIM オプション込み最終価格
#DIM 見える位置へのキスマーク
#DIM キス
#DIM ファーストキス
#DIM 射精煽り
#DIM 合意中出し
#DIM 無許可中出し
#DIM 精液お持ち帰り
#DIM 尻尾抱きつき
#DIM 耳吸い
#DIM 首噛みわからせ

対象キャラ = TARGET

PRINTFORM %CALLNAME:TARGET%は
IF TALENT:TARGET:恋慕
	PRINTFORM 求められるのが嬉しいのか笑顔で
ELSEIF TALENT:TARGET:弱味 || (TALENT:PLAYER:性別 == 2 && TALENT:TARGET:性別嗜好 == 1)
;これだけ露骨に浮かぶバリエーションが多い……なんでやろな？
	PRINTFORM %TEXTR("渋々といった感じで/嫌そうに顔をしかめながらも渋々/不快そうに眉をひそめながらも渋々/嫌そうにこちらを睨みつけながらも渋々")%
ELSEIF TALENT:TARGET:恋人持ち == 3
	PRINTFORM 今は亡き伴侶に小さく謝罪を口にしながらも
ELSEIF TALENT:TARGET:恋人持ち == 2
	PRINTFORM 伴侶に小さく謝罪を口にしながらも
ELSEIF TALENT:TARGET:恋人持ち == 1
	PRINTFORM 恋人に小さく謝罪を口にしながらも
ELSEIF TALENT:TARGET:恋人持ち == -1
	PRINTFORM 想い人に小さく謝罪を口にしながらも
ELSEIF TALENT:TARGET:セフレ
	PRINTFORM ニヤニヤとからかうような笑みを浮かべて
ELSEIF TALENT:TARGET:精神的余裕 == 2
	PRINTFORM はしたないとため息をつきながらも
ELSEIF TALENT:TARGET:ギャル
	PRINTFORM あっけらかんと
ELSEIF TALENT:TARGET:羞恥心
	PRINTFORM %TEXTR("顔を真っ赤にし/恥じらって俯き")%ながら
ELSEIF TALENT:TARGET:性的興味
	PRINTFORM %TEXTR("興味しんしんな/期待に満ちた")%様子で
ELSEIF TALENT:TARGET:性欲 <= -1
	PRINTFORM あくまで事務的に
ELSE
	PRINTFORM 恥じらいながらも
ENDIF
PRINTFORMW %TEXTR("了承/承諾")%し、%CALLNAME:PLAYER%%TEXTR("と手近な物陰へと隠れた/を近くの物陰へと導いた/に連れられて近くの物陰に隠れた")%……
PRINTL
PRINTFORMW ────
PRINTL

;履歴

IF RCVAR:対象キャラ:破瓜 == 1
	;このターンに処女を失う
	IF RFLAG:コマンド結果受渡し変数 == 1
		CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>%CALLNAME:TARGET%の処女を買おうとしたが、本人の好意で無料でその体を堪能させてもらった</font><img src='えっちハート'>","うふふ実績")
		CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>処女を買おうとする%CALLNAME:PLAYER%に、無料でカラダを捧げ渡した</font><img src='えっちハート'>","うふふ実績")
	ELSEIF TALENT:対象キャラ:弱味
	;弱味想定。いつか必要になるかもしれないし……
		CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>弱みを握った%CALLNAME:TARGET%の処女を、たった%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%で堪能させてもらった</font><img src='えっちハート'>","うふふ実績")
		CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>%CALLNAME:PLAYER%に弱みを握られて、たった%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%で処女を買われしまった</font><img src='えっちハート'>","うふふ実績")
	ELSE
		CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>%CALLNAME:TARGET%の処女を%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%で買い、その体を堪能した</font><img src='えっちハート'>","うふふ実績")
		CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>%CALLNAME:PLAYER%に%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%で処女を買われてしまった</font><img src='えっちハート'>","うふふ実績")
	ENDIF
ELSEIF RFLAG:コマンド結果受渡し変数 == 1
	CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>仕事の体裁をとりながらも、結局無料で%CALLNAME:TARGET%の体を堪能させてもらった</font><img src='えっちハート'>","うふふ実績")
	CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>大好きな%CALLNAME:PLAYER%に、無料でカラダを売ってあげた</font><img src='えっちハート'>","うふふ実績")
ELSEIF TALENT:対象キャラ:弱味
	;弱味想定。いつか必要になるかもしれないし……
	CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>弱みを握った%CALLNAME:TARGET%のカラダを、%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%も出して買ってやった</font><img src='えっちハート'>","うふふ実績")
	CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>%CALLNAME:PLAYER%に弱みを握られて、たった%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%でカラダを買われしまった</font><img src='えっちハート'>","うふふ実績")
ELSE
	CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>%CALLNAME:TARGET%のカラダを%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%で買い、気持ちよくなるために使った</font><img src='えっちハート'>","うふふ実績")
	CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("赤ピンク")%'>%CALLNAME:PLAYER%に%MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%でカラダを買われてしまった</font><img src='えっちハート'>","うふふ実績")
ENDIF

@MESSAGE_性処理_セックス処理_非口上時
#DIM 対象キャラ
#DIM 値段計算
#DIM オプション込み最終価格
#DIM 見える位置へのキスマーク
#DIM キス
#DIM ファーストキス
#DIM 射精煽り
#DIM 合意中出し
#DIM 無許可中出し
#DIM 精液お持ち帰り
#DIM 尻尾抱きつき
#DIM 耳吸い
#DIM 首噛みわからせ
#DIMS 中出し名称
#DIM 中出し価格
#DIM 精液大好きホールド
#DIM 体位
#DIM 項目幅

対象キャラ = TARGET
キス = 0
ファーストキス = 0
見える位置へのキスマーク = 0
射精煽り = 0
合意中出し = 0
無許可中出し = 0
精液お持ち帰り = 0
尻尾抱きつき = 0
耳吸い = 0
首噛みわからせ = 0
中出し名称 =
中出し価格 = 0
精液大好きホールド = 0
項目幅 = 25

SELECTCASE RAND:3
CASE 0
	CALL PRINT_STR(@"にゅちゅっ_H_ ぐちゅっ_H_")
CASE 1
	CALL PRINT_STR(@"ぱんっ_H_ ぱんっ_H_")
CASE 2
	CALL PRINT_STR(@"たちゅっ_H_ ぱちゅっ_H_")
ENDSELECT
PRINTFORMW と物陰に淫猥な水音が響く。 
PRINTL

IF RAND:2
	体位 = 0	;対面立位(50%)
ELSE
	体位 = 1	;立ちバック
ENDIF

IF 体位 == 0
;対面立位
	PRINTFORML %CALLNAME:対象キャラ%と至近距離で見つめあいながら、密着した体を壁に押し付けるようにして%CALLNAME:PLAYER%は対面立位で腰を振る。
	PRINTL
	IF RCVAR:対象キャラ:破瓜 == 1
		PRINTFORM つい先ほど%TEXTR("まで純潔を保っていた/まで未開通だった/まで未使用だった/女にしてやったばかりの")%%CALLNAME:対象キャラ%の
		IF 知識素質:対象キャラ:高貴 > 0
			PRINTFORM %TEXTR("血統書付きの/ロイヤル/高貴な/貴い")%
		ELSEIF アイドル判定(対象キャラ) && CSTR:対象キャラ:出演作品 != ""
		;アイドル勢
			PRINTFORM %TEXTR("異世界アイドルのプレミア/、ファンの誰も手にすることができなかった異世界アイドルの")%
		ELSEIF アイドル判定(対象キャラ)
			PRINTFORM %TEXTR("アイドルのプレミア/、ファンの誰も手にすることができなかったアイドルの")%
		ENDIF
		PRINTFORM %TEXTR("処女膣/処女まんこ")%は
		;買い叩かれたEXキャラ
		SIF NO:TARGET > 1000
			PRINTFORM たった
		PRINTFORM %MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%で%CALLNAME:PLAYER%にその純潔を捧げ渡し、
		PRINTFORML %TEXTR("ハジメテの侵入者となった/その最初の主人となった/")%%CALLNAME:PLAYER%の%TEXTR("ペニス/チンポ")%を%TEXTR("痛いほど/きつく")%締めつけていたが、
		PRINTFORM %CALLNAME:PLAYER%の%TEXTR("ねっとりとした/淫猥な")%手管によって%CALLNAME:対象キャラ%の%TEXTR("女/雌/雌としての才能")%は半ば無理やり開花させられ、抽挿にあわせて
		CALL PRINT_STR(@"ぱちゅっ_H_ ぷちゅっ_H_")
		PRINTFORMW と響く水音は%CALLNAME:対象キャラ%が早くも快楽を感じつつあることを%TEXTR("如実に示して/赤裸々に物語って")%いた。
		PRINTL
	ENDIF
	IF 陥落チェック(TARGET)
		PRINTFORML 子宮口を小突かれるたび、鼻にかかった甘い嬌声を漏らす%CALLNAME:対象キャラ%のやわらかな唇に%CALLNAME:PLAYER%が吸いつくと、%CALLNAME:対象キャラ%は嬉しそうに目を閉じてキスを受け入れる。
		PRINTL
		PRINTFORMW ねっとりと舌を絡めあいながら密着体位で腰を振ると、湧きたつような快楽が脳を痺れさせ酸欠めいた多幸感が%CALLNAME:PLAYER%を満たす。
		PRINTL
		キス = 1
	ELSEIF TALENT:TARGET:弱味 || (TALENT:PLAYER:性別 == 2 && TALENT:TARGET:性別嗜好 == 1) || TALENT:TARGET:恋人持ち >= 1 || TALENT:TARGET:恋人持ち == -1
	;嫌がりそうな子セット
		SELECTCASE RAND:2
		CASE 0
		;キスマーク
			PRINTFORML %TEXTR("膣壁をこそぐ/子宮口を小突く")%肉棒がもたらす快楽に%TEXTR("頬を赤らめた/吐息を荒げた")%%CALLNAME:対象キャラ%の姿は艶やかで、%CALLNAME:PLAYER%の%TEXTR("肉欲/征服欲")%を煽り立てる。
			PRINTL
			PRINTFORMW 肌と肌、粘膜と粘膜を擦り合わせ、体温と快楽を交換しあって……そうして互いの吐息が交じりあう距離が、だんだんと近づいていく……。
			PRINTL
			PRINTFORML ……だが、すんでのところで%CALLNAME:対象キャラ%は我に返り、逃げるように顔をそらしてしまった。どうやらまだ唇までは許してくれないらしい。
			PRINTL
			PRINTFORMW 唇に逃げられた%CALLNAME:PLAYER%がかわりに%CALLNAME:対象キャラ%の首筋へと吸いつくと、%CALLNAME:対象キャラ%は感極まったような声をあげ、襟元には真っ赤なキスマークが残った……。
			PRINTL
			見える位置へのキスマーク = 1
		CASE 1
		;キス
			PRINTFORML %TEXTR("膣壁をこそぐ/子宮口を小突く")%肉棒がもたらす快楽に%TEXTR("頬を赤らめた/吐息を荒げた")%%CALLNAME:対象キャラ%の姿は艶やかで、%CALLNAME:PLAYER%の%TEXTR("肉欲/征服欲")%を煽り立てる。
			PRINTL
			PRINTFORML 肌と肌、粘膜と粘膜を擦り合わせ、体温と快楽を交換しあうさなか。もっと、もっと%CALLNAME:対象キャラ%を感じたいと%CALLNAME:PLAYER%の脳髄で%TEXTR("本能/衝動")%が暴れだす。
			PRINTL
			PRINTFORMW %CALLNAME:PLAYER%が目の前の甘くやわらかな唇に吸い付くと、%CALLNAME:対象キャラ%は目を丸くし、喉からはかわいらしい抗議の声があがった。
			PRINTL
			PRINTFORML 小さく首を振って嫌がる%CALLNAME:対象キャラ%。だがその程度の抵抗では、かえって%CALLNAME:PLAYER%の%TEXTR("征服欲/嗜虐心")%を煽るばかりだ。
			PRINTL
			PRINTFORMW 子宮口をノックしながら%CALLNAME:PLAYER%が辛抱強くキスを繰り返すと、やがて%CALLNAME:対象キャラ%は抵抗をやめて%CALLNAME:PLAYER%のキスを受け入れ、舌を絡めあって幸福と快楽を分かちあった。
			PRINTL
			CALL 初体験日登録処理(PLAYER, TARGET, "ファーストキス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 1)
			CALL 初体験日登録処理(TARGET, PLAYER, "ファーストキス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 1)
			IF RESULT
				RCVAR:TARGET:ファーストキス中フラグ = 1
				CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("薄ピンク")%'>%CALLNAME:PLAYER%に買われてセックスするさなか、%CALLNAME:PLAYER%の[唇]に強引にファーストキスを奪われてしまった……</font><img src='えっちハート'>","うふふ")
				CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("薄ピンク")%'>%CALLNAME:TARGET%のカラダを金で買ったついでに、どさくさに紛れて%CALLNAME:TARGET%の初めてのキスまで奪ってやった</font><img src='えっちハート'>","うふふ")
				キス = 1
				ファーストキス = 1
			ELSE
				キス = 1
			ENDIF
			CALL 初体験日登録処理(PLAYER, TARGET, "キス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 0)
			CALL 初体験日登録処理(TARGET, PLAYER, "キス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 0)
		ENDSELECT
	ELSE
		SELECTCASE RAND:2
		CASE 0
		;キス
			PRINTFORML %TEXTR("膣壁をこそぐ/子宮口を小突く")%肉棒がもたらす快楽に%TEXTR("頬を赤らめた/吐息を荒げた")%%CALLNAME:対象キャラ%の姿は艶やかで、%CALLNAME:PLAYER%の%TEXTR("肉欲/征服欲")%を煽り立てる。
			PRINTL
			PRINTFORML 肌と肌、粘膜と粘膜を擦り合わせ、体温と快楽を交換しあうさなか。もっと、もっと%CALLNAME:対象キャラ%を感じたいと%CALLNAME:PLAYER%の脳髄を%TEXTR("本能/衝動")%が満たす。
			PRINTL
			PRINTFORMW 吐息のかかる距離で見つめあいながら%CALLNAME:PLAYER%がキスしていいかを聞くと、最初は渋っていた%CALLNAME:対象キャラ%だったが、言葉とちんぽで何度も『説得』を繰り返すと、やがて目を閉じて唇を差し出してくれた。
			PRINTL
			CALL 初体験日登録処理(PLAYER, TARGET, "ファーストキス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 1)
			CALL 初体験日登録処理(TARGET, PLAYER, "ファーストキス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 1)
			IF RESULT
				RCVAR:TARGET:ファーストキス中フラグ = 1
				CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("薄ピンク")%'>%CALLNAME:PLAYER%に買われてセックスするさなか、%CALLNAME:PLAYER%の『説得』に流されて[唇]にファーストキスを捧げてしまった……</font><img src='えっちハート'>","うふふ")
				CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("薄ピンク")%'>%CALLNAME:TARGET%のカラダを金で買ったついでに、初めてのキスまで捧げてもらった</font><img src='えっちハート'>","うふふ")
				キス = 1
				ファーストキス = 1
			ELSE
				キス = 1
			ENDIF
			CALL 初体験日登録処理(PLAYER, TARGET, "キス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 0)
			CALL 初体験日登録処理(TARGET, PLAYER, "キス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 0)
		CASE 1
		;射精煽り
			PRINTFORML %TEXTR("膣壁をこそぐ/子宮口を小突く")%肉棒がもたらす快楽に%TEXTR("頬を赤らめた/吐息を荒げた")%%CALLNAME:対象キャラ%の姿は艶やかで、%CALLNAME:PLAYER%の%TEXTR("肉欲/征服欲")%を煽り立てる。
			PRINTL
			PRINTFORMW 肌と肌、粘膜と粘膜を擦り合わせ、体温と快楽を交換しあいながら、%CALLNAME:対象キャラ%の心まで欲しいと%CALLNAME:PLAYER%の脳髄を身勝手な欲望が満たす。
			PRINTL
			PRINTFORM 吐息のかかる距離で見つめあいながら%CALLNAME:PLAYER%が嘘でもいいから好きって言ってほしいと%CALLNAME:対象キャラ%にお願いをすると、
			SELECTCASE RAND:3
			CASE 0
				PRINTFORML %CALLNAME:対象キャラ%は%TEXTR("からかうように笑って/悪戯っぽく笑って")%耳元に口を近づけ、
				PRINTL
				CALL PRINT_STRL(@"大嫌い_H_")
				PRINTFORMW と真逆のことを甘い声で囁くと、わざとらしく抵抗するフリをして%CALLNAME:PLAYER%%TEXTR("の嗜虐心を煽りたてた/の加虐心を煽りたてた/にレイプごっこ気分を味わわせた")%……。
				PRINTL
				射精煽り = 2
			CASEELSE
				PRINTFORML %CALLNAME:対象キャラ%は%TEXTR("呆れたように苦笑して/「えぇ……」と一瞬嫌そうな顔をしながらも")%耳元に口を近づけ──
				PRINTL
				PRINTFORMW %TEXTR("わざとらしく/嘘っぽく/棒読み気味に")%好き好きと囁いて%CALLNAME:PLAYER%%TEXTR("の幸福感を煽った/の射精を煽った/にちょっとだけ恋人気分を味わわせてくれた")%……。
				PRINTL
				射精煽り = 1
			ENDSELECT
		ENDSELECT
	ENDIF
	PRINTFORML ねっとりと愛液を絡ませ、%TEXTR("しゃぶりつくような/吸いつくような/絞りあげるような/きゅんきゅんと締め付ける/不規則な甘イキで締めつける")%%CALLNAME:対象キャラ%の膣肉奉仕に、やがて%CALLNAME:PLAYER%の腹の奥から射精感がこみあがってくる。
	IF 陥落チェック(TARGET)
	;合意中出し
		PRINTL
		PRINTFORMW 荒々しく腰を振りながら耳元で「中に出すぞ」と囁くと、%CALLNAME:対象キャラ%は嬌声の中でうなずき、喜びを体で表現するかのように%CALLNAME:PLAYER%に抱きついた。
		PRINTL
		CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
		PRINTL
		PRINTFORML 膣奥に亀頭をぴったりと押しつけ、%CALLNAME:対象キャラ%の体を抱きしめながら、子宮口めがけて白濁をぶちまける。
		PRINTL
		PRINTFORML %CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
		PRINTL
		PRINTFORMW %CALLNAME:PLAYER%と%CALLNAME:対象キャラ%は荒い吐息のまま見つめあうと、どちらからともなくキスを交わして、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
		PRINTL
		PRINTFORMW 行為が終わった%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が今日は子宮に精液を溜めたまま過ごしてほしいと告げると、%CALLNAME:対象キャラ%はさも当然かのように快く頷いた。
		PRINTL
		合意中出し = 1
		精液お持ち帰り = 1
	ELSE
		SELECTCASE RAND:2	;中出しの合意、無許可判定
		CASE 0
		;無許可中出し
			PRINTL
			PRINTFORML %CALLNAME:対象キャラ%を抱きしめたまま%CALLNAME:PLAYER%が腰振りを荒くすると、射精の予感に%CALLNAME:対象キャラ%は外に出すようにと言ってくる。
			PRINTL
			CALL MESSAGE_性処理_セックス処理_非口上時_射精先選択(対象キャラ, 0)
			IF RESULT == 0
				PRINTL
				PRINTFORMW ……だが、高まりきった%CALLNAME:PLAYER%の獣性は、そんな言葉では止まらない。
				PRINTL
				IF TALENT:種族 == 2 || TALENT:種族 == 3 || 首噛み弱点判定(TARGET)
				;エルーンかドラフ
					PRINTFORML ちんぽを抜く気配がない%CALLNAME:PLAYER%に焦って声をあげ腕の中でもがく%CALLNAME:対象キャラ%を押さえつけ、がぶりと首筋に歯を立てて噛みつくと、
					PRINTFORMW %TEXTR("孕まされるメスとしての立場を/どちらのほうが立場が『上』か/この場における格付けを/孕ませていただくメスとしての取るべき態度を")%本能的にわからされてしまった%CALLNAME:対象キャラ%は途端におとなしくなり、自らへこへこと腰を突き出すようにして%CALLNAME:PLAYER%に子宮の征服権を明け渡した……。
					PRINTL
					CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
					PRINTL
					PRINTFORML 最大まで怒張した肉杭を根元まで打ち込み、膣奥に亀頭を押しつけて、%CALLNAME:対象キャラ%の子宮めがけて白濁をぶちまける。
					PRINTL
					PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
					PRINTL
					PRINTFORMW むりやり中に出されたにもかかわらず、多幸感に浸るかのような%CALLNAME:対象キャラ%の吐息にたまらない%TEXTR("達成感/征服感/全能感")%を感じ浸りながら、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
					PRINTL
					PRINTFORML 行為が終わったあと、%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が謝って、責任はとる旨を伝えて無理やり中に出したぶんの上乗せ料金を渡そうとすると、
					PRINTFORMW %CALLNAME:対象キャラ%は余韻で胡乱な表情のままそれを固辞して%CALLNAME:PLAYER%を許し、愛おしそうにそっと下腹を撫でた。
					PRINTL
					無許可中出し = 1
					首噛みわからせ = 1
				ELSEIF TALENT:種族 == 5
				;星晶獣
					PRINTFORML ちんぽを抜く気配がない%CALLNAME:PLAYER%に焦って声をあげ腕の中でもがく%CALLNAME:対象キャラ%を押さえつけ、がぶりと首筋に歯を立てて噛みつくと、
					PRINTFORMW 星の民に『使われる』ために作られた奉仕種族としての%TEXTR("隷属/従属/屈服")%本能が刺激されてしまった%CALLNAME:対象キャラ%は途端におとなしくなり、自ら腰を突き出すようにして%CALLNAME:PLAYER%に子宮の征服権を明け渡した……。
					PRINTL
					CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
					PRINTL
					PRINTFORML 最大まで怒張した肉杭を根元まで打ち込み、膣奥に亀頭を押しつけて、%CALLNAME:対象キャラ%の子宮めがけて白濁をぶちまける。
					PRINTL
					PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
					PRINTL
					PRINTFORMW むりやり中に出されたにもかかわらず、多幸感に浸るかのような%CALLNAME:対象キャラ%の吐息にたまらない%TEXTR("達成感/征服感/全能感")%を感じ浸りながら、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
					PRINTL
					PRINTFORML 行為が終わったあと、%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が謝って、責任はとる旨を伝えて無理やり中に出したぶんの上乗せ料金を渡そうとすると、
					PRINTFORMW %CALLNAME:対象キャラ%は余韻で%TEXTR("胡乱な/うっとりとした")%表情のままそれを固辞して%CALLNAME:PLAYER%を許し、愛おしそうにそっと下腹を撫でた。
					PRINTL
					無許可中出し = 1
					首噛みわからせ = 1
				ELSE
					PRINTFORMW ちんぽを抜く気配がない%CALLNAME:PLAYER%に焦って声をあげ腕の中でもがく%CALLNAME:対象キャラ%を抱きしめて押さえつけ、%CALLNAME:PLAYER%は絶対に逃がさないとばかりにひときわ強く腰を打ちつけた。
					PRINTL
					CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
					PRINTL
					PRINTFORML 膣奥に亀頭をぴったりと押しつけ、%CALLNAME:対象キャラ%の体を抱きしめながら、子宮口めがけて白濁をぶちまける。
					PRINTL
					IF アイドル判定(対象キャラ)
						PRINTFORML アイドルとして人々を魅了する%CALLNAME:対象キャラ%の%TEXTR("子宮/いちばん奥")%にべったりと欲望をぶちまけてむりやり%TEXTR("穢す/征服する/自分のものにする")%たまらない愉悦に%CALLNAME:PLAYER%のペニスはどくんどくんと脈打ちながら精を吐き出し、
					ELSEIF 小等部魔法少女判定(対象キャラ)
						PRINTFORML 元いた世界では幼いながらも魔法少女として重責を担う%CALLNAME:対象キャラ%の%TEXTR("無垢な子宮/コドモまんこ/キツキツロリまんこ")%にべったりと欲望をぶちまけてむりやり%TEXTR("穢す/征服する/自分のものにする")%たまらない愉悦に%CALLNAME:PLAYER%のペニスはどくんどくんと脈打ちながら精を吐き出し、
					ENDIF
					PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の子宮で精液を飲み干していく。
					PRINTL
					PRINTFORMW むりやり中に出された%CALLNAME:対象キャラ%の%TEXTR("絶望/諦め")%の吐息にたまらない%TEXTR("達成感/征服感/全能感")%を感じ浸りながら、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
					PRINTL
					PRINTFORMW 行為が終わったあと、%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が謝って、責任はとる旨を伝えて無理やり中に出したぶんの上乗せ料金を渡すと、%CALLNAME:対象キャラ%は渋々といった感じで許してくれたようだった。
					PRINTL
					無許可中出し = 1
				ENDIF
			ELSE
				CALL MESSAGE_性処理_セックス処理_非口上時_外出し(対象キャラ, 体位)
				IF RESULT
					合意中出し = 1
					精液大好きホールド = 1
				ENDIF
			ENDIF
		CASE 1
		;合意中出し
			PRINTL
			PRINTFORML %CALLNAME:PLAYER%が腰振りを荒くすると、射精の予感に%CALLNAME:対象キャラ%は外に出すようにと言ってくる。
			PRINTL
			CALL MESSAGE_性処理_セックス処理_非口上時_射精先選択(対象キャラ, 1)
			IF RESULT == 0
				PRINTL
				PRINTFORMW ……だが、高まりきった%CALLNAME:PLAYER%の獣性は、目の前の雌に種を植えつけろと求めている。
				PRINTL
				PRINTFORML %CALLNAME:PLAYER%が腰を振りながら追加でお金払うからと中出しをお願いすると、%CALLNAME:対象キャラ%はそれでも嫌だと抵抗していたが、
				PRINTFORMW 根気よく頼み続けるとやがて、%CALLNAME:PLAYER%が諦めないことを悟った%CALLNAME:対象キャラ%は渋々膣内射精を受け入れてくれた。
				PRINTL
				CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
				PRINTL
				PRINTFORML 膣奥に亀頭をぴったりと押しつけ、%CALLNAME:対象キャラ%の体を抱きしめながら、子宮口めがけて白濁をぶちまける。
				PRINTL
				SIF アイドル判定(対象キャラ)
					PRINTFORML アイドルとして人々を魅了していた%CALLNAME:対象キャラ%の%TEXTR("子宮/いちばん奥")%に欲望をぶちまけて穢すたまらない愉悦に%CALLNAME:PLAYER%のペニスは精を吐き出しながらどくんどくんと脈打ち、
				PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
				PRINTL
				PRINTFORMW 中に出させてくれた%CALLNAME:対象キャラ%の耳元で感謝の言葉を囁くと、%CALLNAME:対象キャラ%はしょうがないなといった感じでおずおずと%CALLNAME:PLAYER%を抱きとめ、そのまま最後の一滴まで子宮に注ぎ込ませてくれた……。
				PRINTL
				PRINTFORMW 行為が終わった%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が今日は子宮に精液を溜めたまま過ごしてほしいとお願いすると、%CALLNAME:対象キャラ%は呆れ顔になりながらも了承してくれた。
				PRINTL
				合意中出し = 1
				精液お持ち帰り = 1
			ELSE
				CALL MESSAGE_性処理_セックス処理_非口上時_外出し(対象キャラ, 体位)
				IF RESULT
					合意中出し = 1
					精液大好きホールド = 1
				ENDIF
			ENDIF
		ENDSELECT
	ENDIF
ELSE
;立ちバック
	PRINTFORML 後ろから%CALLNAME:対象キャラ%の腰をがっちりと掴み、%TEXTR("揺れる/たわむ")%尻肉を眼下に見下ろしながら%CALLNAME:PLAYER%は立ちバックで腰をうちつける。
	PRINTL
		IF RCVAR:対象キャラ:破瓜 == 1
			PRINTFORM つい先ほど%TEXTR("まで純潔を保っていた/まで未開通だった/まで未使用だった/女にしてやったばかりの")%%CALLNAME:対象キャラ%の
			IF 知識素質:高貴 > 0
				PRINTFORM %TEXTR("血統書付きの/ロイヤル/高貴な/貴い")%
			ELSEIF アイドル判定(対象キャラ)
				;アイドル勢
				IF CSTR:対象キャラ:出演作品 != ""
					PRINTFORM %TEXTR("異世界アイドルのプレミア/、ファンの誰も手にすることができなかった異世界アイドルの")%
				ELSE
					PRINTFORM %TEXTR("アイドルのプレミア/、ファンの誰も手にすることができなかったアイドルの")%
				ENDIF
			ENDIF
			PRINTFORM %TEXTR("処女膣/処女まんこ")%は
			;買い叩かれたEXキャラ
			SIF NO:TARGET > 1000
				PRINTFORM たった
			PRINTFORM %MON_FORMAT(RFLAG:コマンド結果受渡し変数２)%で%CALLNAME:PLAYER%にその純潔を捧げ渡し、
			PRINTFORML %TEXTR("ハジメテの侵入者となった/その最初の主人となった/")%%CALLNAME:PLAYER%の%TEXTR("ペニス/チンポ")%を%TEXTR("痛いほど/きつく")%締めつけていたが、
			PRINTFORM %CALLNAME:PLAYER%の%TEXTR("ねっとりとした/淫猥な")%手管によって%CALLNAME:対象キャラ%の%TEXTR("女/雌/雌としての才能")%は半ば無理やり開花させられ、抽挿にあわせて
			CALL PRINT_STR(@"ぱちゅっ_H_ ぷちゅっ_H_")
			PRINTFORMW と響く水音は%CALLNAME:対象キャラ%が早くも快楽を感じつつあることを%TEXTR("如実に示して/赤裸々に物語って")%いた。
			PRINTL
		ENDIF
	IF 陥落チェック(TARGET)
		PRINTFORML 子宮口を小突かれるたび、鼻にかかった甘い嬌声を漏らす%CALLNAME:対象キャラ%を振り向かせ、やわらかな唇に%CALLNAME:PLAYER%が吸いつくと、%CALLNAME:対象キャラ%は嬉しそうに目を閉じてキスを受け入れる。
		PRINTL
		PRINTFORMW ねっとりと舌を絡めあい密着しながら腰を振ると、湧きたつような快楽が脳を痺れさせ酸欠めいた多幸感が%CALLNAME:PLAYER%を満たす。
		PRINTL
		キス = 1
	ELSEIF (TALENT:TARGET:尻尾あり && RAND:2 == 0) || (TALENT:TARGET:エルーン耳 && RAND:2 == 0)
		IF (TALENT:TARGET:尻尾あり && TALENT:TARGET:エルーン耳 != 1) || (TALENT:TARGET:尻尾あり && RAND:2 == 0)
		;尻尾しかない場合は100%こっち。耳もあるなら50%。
		;ウサギみたいな小さい尻尾については考えないものとする。ごめんねまこーら
			PRINTFORML %TEXTR("Ｇスポット/ポルチオ")%を亀頭でほじるように刺激するたびに、%CALLNAME:対象キャラ%の尻尾が快楽に揺れる。
			PRINTL
			PRINTFORM 揺れる尻尾を捕まえて、尻尾に抱きつくように腰を振ると、%CALLNAME:対象キャラ%は%TEXTR("戸惑ったような/感極まったような/恥ずかしそうな")%声で甘く鳴き、
			CALL PRINT_STRW(@"きゅうっ_H_と膣肉の締めつけを強くした。")
			PRINTL
			尻尾抱きつき = 1
		ELSE
		;耳あって尻尾がない場合か↑で50%引かなかった場合
			PRINTFORML %TEXTR("Ｇスポット/ポルチオ")%を亀頭でほじるように刺激するたびに、%CALLNAME:対象キャラ%のエルーン耳がふるふると快楽に揺れる。
			PRINTL
			PRINTFORM %CALLNAME:対象キャラ%の体を後ろから抱き寄せ、耳の根元に鼻をうずめると、%CALLNAME:対象キャラ%は
			; CALL PRINT_STR(@"「ひゃ、っ_H_」")
			PRINTFORML 可愛らしい声で鳴き、
			PRINTFORMW %TEXTR("独特な/どこか華やかで/ケモノっぽく/興奮を駆り立てるような")%%TEXTR("クセになる/甘く深みがある/プリミティブな/香ばしい")%香りが%CALLNAME:PLAYER%の性欲中枢を直撃し、腰振りをさらに加速させた。
			PRINTL
			耳吸い = 1
		ENDIF
	ELSEIF TALENT:TARGET:弱味 || (TALENT:PLAYER:性別 == 2 && TALENT:TARGET:性別嗜好 == 1) || TALENT:TARGET:恋人持ち >= 1 || TALENT:TARGET:恋人持ち == -1
	;嫌がりそうな子セット
	;キスマークのみ。無理やりのキスは立ちバックだとたぶん逃げられる
		PRINTFORML 壁に手をつき、%CALLNAME:PLAYER%に好き放題%TEXTR("Ｇスポットをほじられて/ポルチオを小突かれて/女の一番大事な場所を使われて/犯されて")%快楽に喘ぐことしかできない%CALLNAME:対象キャラ%を見下ろす景色は、
		PRINTFORMW %CALLNAME:PLAYER%にたまらない優越感を感じさせ勃起がますます硬くなる。
		PRINTL
		PRINTFORM 腰を振りながら%CALLNAME:対象キャラ%を抱き寄せ、
		IF TALENT:種族 == 2
			PRINTFORML エルーンの大きく開いた背中の素肌に吸い付きキスマークをつけてやると、%CALLNAME:対象キャラ%は蕩けきった声で嫌がってみせたが、
			PRINTFORM 愛液溢れる膣肉は本人の意思とは裏腹に
			CALL PRINT_STR(@"ぎゅぅっ_H_")
			PRINTFORMW と肉棒を抱きしめて%CALLNAME:PLAYER%に喜びを伝えた。
		ELSE
			PRINTFORM 首筋に強く吸い付きキスマークをつけてやると、%CALLNAME:対象キャラ%はぞくりと身を震わせて
			PRINTFORMW 甘えた声を漏らしながらわずかに抵抗した。
		ENDIF
		見える位置へのキスマーク = 1
	ELSE
		SELECTCASE RAND:2
		CASE 0
		;キスマーク
			PRINTFORML 壁に手をつき、%CALLNAME:PLAYER%に好き放題%TEXTR("Ｇスポットをほじられて/ポルチオを小突かれて/女の一番大事な場所を使われて/犯されて")%快楽に喘ぐことしかできない%CALLNAME:対象キャラ%を見下ろす景色は、
			PRINTFORMW %CALLNAME:PLAYER%にたまらない優越感を感じさせ勃起がますます硬くなる。
			PRINTL
			PRINTFORM 腰を振りながら%CALLNAME:対象キャラ%を抱き寄せ、
			IF TALENT:種族 == 2
				PRINTFORML エルーンの大きく開いた背中の素肌に吸い付きキスマークをつけてやると、%CALLNAME:対象キャラ%は甘い吐息を漏らし、
				PRINTFORM 愛液溢れる膣肉で
				CALL PRINT_STR(@"ぎゅぅっ_H_")
				PRINTFORMW と肉棒を抱きしめて%CALLNAME:PLAYER%に喜びを伝えた。
			ELSE
				PRINTFORML 首筋に強く吸い付きキスマークをつけてやると、%CALLNAME:対象キャラ%は甘い吐息を漏らしてぞくぞくと身を震わせた。
			ENDIF
			見える位置へのキスマーク = 1
		CASE 1
		;キス
			PRINTFORML 壁に手をつき、%CALLNAME:PLAYER%に好き放題%TEXTR("Ｇスポットをほじられて/ポルチオを小突かれて/女の一番大事な場所を使われて/犯されて")%快楽に喘ぐことしかできない%CALLNAME:対象キャラ%を見下ろす景色は、
			PRINTFORMW %CALLNAME:PLAYER%にたまらない優越感を感じさせ勃起がますます硬くなる。
			PRINTL
			PRINTFORML 腰を振りながら%CALLNAME:対象キャラ%を抱き寄せ、耳元でキスしていいかと聞くと、最初は渋っていた%CALLNAME:対象キャラ%だったが、言葉とちんぽで何度も『説得』を繰り返すと、やがて目を閉じて唇を差し出してくれた。
			PRINTL
			CALL 初体験日登録処理(PLAYER, TARGET, "ファーストキス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 1)
			CALL 初体験日登録処理(TARGET, PLAYER, "ファーストキス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 1)
			IF RESULT
				RCVAR:TARGET:ファーストキス中フラグ = 1
				CALL 履歴データベース登録(CFLAG:TARGET:人物番号, @"<font color='#%カラーパレット_HTML("薄ピンク")%'>%CALLNAME:PLAYER%に買われてセックスするさなか、%CALLNAME:PLAYER%の『説得』に流されて[唇]にファーストキスを捧げてしまった……</font><img src='えっちハート'>","うふふ")
				CALL 履歴データベース登録(CFLAG:PLAYER:人物番号, @"<font color='#%カラーパレット_HTML("薄ピンク")%'>%CALLNAME:TARGET%のカラダを金で買ったついでに、初めてのキスまで捧げてもらった</font><img src='えっちハート'>","うふふ")
				キス = 1
				ファーストキス = 1
			ELSE
				キス = 1
			ENDIF
			CALL 初体験日登録処理(PLAYER, TARGET, "キス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 0)
			CALL 初体験日登録処理(TARGET, PLAYER, "キス", DAY * 1440 + TIME, GETPLACENAME(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置), "唇", "", 0)
		ENDSELECT
	ENDIF
	PRINTFORMW ねっとりと愛液を絡ませ、%TEXTR("しゃぶりつくような/吸いつくような/絞りあげるような/きゅんきゅんと締め付ける/不規則な甘イキで締めつける")%%CALLNAME:対象キャラ%の膣肉奉仕に、やがて%CALLNAME:PLAYER%の腹の奥から射精感がこみあがってくる。
	IF 陥落チェック(TARGET)
	;合意中出し
		PRINTL
		PRINTFORMW 荒々しく腰を打ちつけながら中に出すと告げると、%CALLNAME:対象キャラ%は嬌声の中でうなずき、自ら射精を受け入れるように尻を突き出した。
		PRINTL
		CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
		PRINTL
		PRINTFORML 腰をがっちりとホールドし、もっちりとした尻肉に腰をぴったりと密着させ、膣奥に亀頭を押しつけて、%CALLNAME:対象キャラ%の子宮めがけて白濁をぶちまける。
		PRINTL
		PRINTFORML %CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
		PRINTL
		PRINTFORMW %CALLNAME:PLAYER%と%CALLNAME:対象キャラ%は余韻で浮かれたような心地のまま、どちらからともなく身を寄せ、キスを交わして、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
		PRINTL
		PRINTFORMW 行為が終わった%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が今日は子宮に精液を溜めたまま過ごしてほしいと告げると、%CALLNAME:対象キャラ%はさも当然かのように快く頷いた。
		PRINTL
		合意中出し = 1
		精液お持ち帰り = 1
	ELSE
		SELECTCASE RAND:2	;中出しの合意、無許可判定
		CASE 0
		;無許可中出し
			PRINTL
			PRINTFORML 後ろから%CALLNAME:対象キャラ%の手首を掴み、体ごと壁へ押し付けるように%TEXTR("押さえつけ/ホールドし")%ながら%CALLNAME:PLAYER%が腰を打ちつけると、
			PRINTFORML 射精の予感に%CALLNAME:対象キャラ%は外に出すようにと促してくる。
			PRINTL
			CALL MESSAGE_性処理_セックス処理_非口上時_射精先選択(対象キャラ, 0)
			IF RESULT == 0
				PRINTL
				PRINTFORML ……だが、高まりきった%CALLNAME:PLAYER%の獣性は、そんな言葉では止まらない。
				PRINTL
				IF TALENT:種族 == 2 || TALENT:種族 == 3 || 首噛み弱点判定(TARGET)
				;エルーンかドラフ
					PRINTFORML ちんぽを抜く気配がない%CALLNAME:PLAYER%に焦って声をあげ腕の中でもがく%CALLNAME:対象キャラ%を押さえつけ、がぶりと首筋に歯を立てて噛みつくと、
					PRINTFORMW %TEXTR("孕まされるメスとしての立場を/どちらのほうが立場が『上』か/この場における格付けを/孕ませていただくメスとしての取るべき態度を")%本能的にわからされてしまった%CALLNAME:対象キャラ%は途端におとなしくなり、自ら腰を突き出すようにして%CALLNAME:PLAYER%に子宮の征服権を明け渡した……。
					PRINTL
					CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
					PRINTL
					PRINTFORML もっちりとした尻肉に腰をぴったりと密着させ、膣奥に亀頭を押しつけて、%CALLNAME:対象キャラ%の子宮めがけて白濁をぶちまける。
					PRINTL
					PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
					PRINTL
					PRINTFORMW むりやり中に出されたにもかかわらず、多幸感に浸るかのような%CALLNAME:対象キャラ%の吐息にたまらない%TEXTR("達成感/征服感/全能感")%を感じ浸りながら、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
					PRINTL
					PRINTFORML 行為が終わったあと、%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が謝って、責任はとる旨を伝えて無理やり中に出したぶんの上乗せ料金を渡そうとすると、
					PRINTFORMW %CALLNAME:対象キャラ%は余韻で%TEXTR("胡乱な/うっとりとした")%表情のままそれを固辞して%CALLNAME:PLAYER%を許し、愛おしそうにそっと下腹を撫でた。
					PRINTL
					無許可中出し = 1
					首噛みわからせ = 1
				ELSEIF TALENT:種族 == 5
				;星晶獣
					PRINTFORML ちんぽを抜く気配がない%CALLNAME:PLAYER%に焦って声をあげ腕の中でもがく%CALLNAME:対象キャラ%を押さえつけ、がぶりと首筋に歯を立てて噛みつくと、
					PRINTFORMW 星の民に『使われる』ために作られた奉仕種族としての%TEXTR("隷属/従属/屈服")%本能が刺激されてしまった%CALLNAME:対象キャラ%は途端におとなしくなり、自ら腰を突き出すようにして%CALLNAME:PLAYER%に子宮の征服権を明け渡した……。
					PRINTL
					CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
					PRINTL
					PRINTFORML もっちりとした尻肉に腰をぴったりと密着させ、膣奥に亀頭を押しつけて、%CALLNAME:対象キャラ%の子宮めがけて白濁をぶちまける。
					PRINTL
					PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
					PRINTL
					PRINTFORMW むりやり中に出されたにもかかわらず、多幸感に浸るかのような%CALLNAME:対象キャラ%の吐息にたまらない%TEXTR("達成感/征服感/全能感")%を感じ浸りながら、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
					PRINTL
					PRINTFORML 行為が終わったあと、%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が謝って、責任はとる旨を伝えて無理やり中に出したぶんの上乗せ料金を渡そうとすると、
					PRINTFORMW %CALLNAME:対象キャラ%は余韻で%TEXTR("胡乱な/うっとりとした")%表情のままそれを固辞して%CALLNAME:PLAYER%を許し、愛おしそうにそっと下腹を撫でた。
					PRINTL
					無許可中出し = 1
					首噛みわからせ = 1
				ELSE
					PRINTFORMW ちんぽを抜く気配がない%CALLNAME:PLAYER%に焦って声をあげ腕の中でもがく%CALLNAME:対象キャラ%を押さえつけ、%CALLNAME:PLAYER%は絶対に逃がさないとばかりにひときわ強く腰を打ちつけた。
					PRINTL
					CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
					PRINTL
					PRINTFORML もっちりとした尻肉に腰をぴったりと密着させ、膣奥に亀頭を押しつけて、%CALLNAME:対象キャラ%の子宮めがけて白濁をぶちまける。
					PRINTL
					IF アイドル判定(対象キャラ)
						PRINTFORML アイドルとして人々を魅了する%CALLNAME:対象キャラ%の%TEXTR("子宮/いちばん奥")%にべったりと欲望をぶちまけてむりやり%TEXTR("穢す/征服する/自分のものにする")%たまらない愉悦に%CALLNAME:PLAYER%のペニスはどくんどくんと脈打ちながら精を吐き出し、
					ELSEIF 小等部魔法少女判定(対象キャラ)
						PRINTFORML 元いた世界では幼いながらも魔法少女として重責を担う%CALLNAME:対象キャラ%の%TEXTR("無垢な子宮/コドモまんこ/キツキツロリまんこ")%にべったりと欲望をぶちまけてむりやり%TEXTR("穢す/征服する/自分のものにする")%たまらない愉悦に%CALLNAME:PLAYER%のペニスはどくんどくんと脈打ちながら精を吐き出し、
					ENDIF
					PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
					PRINTL
					PRINTFORMW むりやり中に出された%CALLNAME:対象キャラ%の%TEXTR("絶望/諦め")%の吐息にたまらない%TEXTR("達成感/征服感/全能感")%を感じ浸りながら、最後の一滴までを%CALLNAME:対象キャラ%の中へと注ぎ込んだ……。
					PRINTL
					PRINTFORMW 行為が終わったあと、%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が謝って、責任はとる旨を伝えて無理やり中に出したぶんの上乗せ料金を渡すと、%CALLNAME:対象キャラ%は渋々といった感じで許してくれたようだった。
					PRINTL
					無許可中出し = 1
				ENDIF
			ELSE
				CALL MESSAGE_性処理_セックス処理_非口上時_外出し(対象キャラ, 体位)
			ENDIF
		CASE 1
		;合意中出し
			PRINTL
			PRINTFORML %CALLNAME:PLAYER%が腰振りを荒くすると、射精の予感に%CALLNAME:対象キャラ%は外に出すようにと言ってくる。
			PRINTL
			CALL MESSAGE_性処理_セックス処理_非口上時_射精先選択(対象キャラ, 1)
			IF RESULT == 0
				PRINTL
				PRINTFORML ……だが、高まりきった%CALLNAME:PLAYER%の獣性は、目の前の雌に種を植えつけろと求めている。
				PRINTL
				PRINTFORML %CALLNAME:PLAYER%が腰を振りながら追加でお金払うからと中出しをお願いすると、%CALLNAME:対象キャラ%はそれでも嫌だと抵抗していたが、
				PRINTFORMW 根気よく頼み続けるとやがて、%CALLNAME:PLAYER%が諦めないことを悟った%CALLNAME:対象キャラ%は渋々膣内射精を受け入れてくれた。
				PRINTL
				CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
				PRINTL
				PRINTFORML 腰をがっちりとホールドし、もっちりとした尻肉に腰をぴったりと密着させ、膣奥に亀頭を押しつけて、%CALLNAME:対象キャラ%の子宮めがけて白濁をぶちまける。
				PRINTL
				SIF アイドル判定(対象キャラ)
					PRINTFORML アイドルとして人々を魅了していた%CALLNAME:対象キャラ%の%TEXTR("子宮/いちばん奥")%に欲望をぶちまけて穢すたまらない愉悦に%CALLNAME:PLAYER%のペニスは精を吐き出しながらどくんどくんと脈打ち、
				PRINTFORML 抵抗を示した口先とは裏腹に、%CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこは感謝を示すかのようにイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を子宮で飲み干していく。
				PRINTL
				PRINTFORMW 中に出させてくれた%CALLNAME:対象キャラ%を抱きしめ、耳元で感謝の言葉を囁くと、%CALLNAME:対象キャラ%はしょうがないなといった感じで体に回した%CALLNAME:PLAYER%の腕を撫で、そのまま最後の一滴まで子宮に注ぎ込ませてくれた……。
				PRINTL
				PRINTFORMW 行為が終わった%CALLNAME:対象キャラ%に%CALLNAME:PLAYER%が今日は子宮に精液を溜めたまま過ごしてほしいとお願いすると、%CALLNAME:対象キャラ%は呆れ顔になりながらも了承してくれた。
				PRINTL
				合意中出し = 1
				精液お持ち帰り = 1
			ELSE
				CALL MESSAGE_性処理_セックス処理_非口上時_外出し(対象キャラ, 体位)
			ENDIF
		ENDSELECT
	ENDIF
ENDIF

DRAWLINE

IF 合意中出し == 1 || 無許可中出し == 1
	RFLAG:性処理射精先 = 0 + 10
	中出し名称 = %性処理_セックス処理_中出し名称(対象キャラ, 合意中出し)%
	項目幅 = MAX(25, STRLENS(中出し名称) + 1)
ELSEIF 体位 == 0
	RFLAG:性処理射精先 = 6 + 10
ELSE
	RFLAG:性処理射精先 = 7 + 10
ENDIF

;最終的な料金　1ルピ＝10円程度という想定で書いてる
IF RFLAG:コマンド結果受渡し変数２ > 0
	PRINTFORML %"基本料金", 項目幅, LEFT%：　%NUM_FORMAT(RFLAG:コマンド結果受渡し変数２), 8%ルピ
ELSE
	PRINTFORM %"基本料金", 項目幅, LEFT%：　%"無料", 8%
	CALL PRINT_STRL(@"_H_")
ENDIF

DRAWLINE

値段計算 = 0
PRINTFORML 追加オプション

IF 見える位置へのキスマーク == 1
;キスマーク1500円
	値段計算 += 150
	PRINTFORML %"キスマーク", 項目幅, LEFT%：＋%NUM_FORMAT(150), 8%ルピ
ENDIF
IF キス == 1
	IF ファーストキス == 1
		IF 知識素質:高貴 > 0
		;ロイヤルキッス100まんえん
			値段計算 += 100000
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"高貴な唇の純潔", 項目幅, LEFT%：＋%NUM_FORMAT(100000), 8%ルピ
			RESETCOLOR
		ELSEIF アイドル判定(対象キャラ)
			値段計算 += 10000
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"アイドルのファーストキス", 項目幅, LEFT%：＋%NUM_FORMAT(10000), 8%ルピ
			RESETCOLOR
		ELSEIF TALENT:恋人持ち == 2
		;人妻なのにファーストキス？妙だな……
			値段計算 += 10000
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"他人妻の唇の純潔", 項目幅, LEFT%：＋%NUM_FORMAT(10000), 8%ルピ
			RESETCOLOR
		ELSEIF TALENT:恋人持ち == 1
		;恋人あり
			値段計算 += 7500
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"恋人に捧げたかった唇", 項目幅, LEFT%：＋%NUM_FORMAT(7500), 8%ルピ
			RESETCOLOR
		ELSEIF TALENT:恋人持ち == -1
			値段計算 += 5000
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"はじめてのキス", 項目幅, LEFT%：＋%NUM_FORMAT(5000), 8%ルピ
			RESETCOLOR
		ELSE
			値段計算 += 4000
			SETCOLOR カラーパレット("赤ピンク")
			PRINTFORML %"はじめてのキス", 項目幅, LEFT%：＋%NUM_FORMAT(4000), 8%ルピ
			RESETCOLOR
		ENDIF
	ELSEIF 陥落チェック(TARGET)
		値段計算 += 10
		SETCOLOR カラーパレット("ピンク")
		PRINTFORML %"らぶらぶべろちゅー", 項目幅, LEFT%：＋%NUM_FORMAT(10), 8%ルピ
		RESETCOLOR
	ELSEIF CSTR:対象キャラ:出演作品 != "" && アイドル判定(対象キャラ)
		値段計算 += 1000
		SETCOLOR カラーパレット("ピンク")
		PRINTFORML %"異世界アイドルとキス", 項目幅, LEFT%：＋%NUM_FORMAT(1000), 8%ルピ
		RESETCOLOR
	ELSEIF アイドル判定(対象キャラ)
		値段計算 += 1000
		SETCOLOR カラーパレット("ピンク")
		PRINTFORML %"アイドルとキス", 項目幅, LEFT%：＋%NUM_FORMAT(1000), 8%ルピ
		RESETCOLOR
	ELSE
		値段計算 += 200
		PRINTFORML %"キス", 項目幅, LEFT%：＋%NUM_FORMAT(200), 8%ルピ
	ENDIF
ENDIF
IF 射精煽り >= 1
	IF 射精煽り == 1
		値段計算 += 500
		SETCOLOR カラーパレット("ピンク")
		PRINTFORML %"すきすき射精煽り", 項目幅, LEFT%：＋%NUM_FORMAT(500), 8%ルピ
		RESETCOLOR
	ELSE
		値段計算 += 200
		SETCOLOR カラーパレット("ピンク")
		PRINTFORML %"レイプごっこ射精煽り", 項目幅, LEFT%：＋%NUM_FORMAT(200), 8%ルピ
		RESETCOLOR
	ENDIF
ENDIF
IF 尻尾抱きつき == 1
	値段計算 += 100
	PRINTFORML %"尻尾抱きつき", 項目幅, LEFT%：＋%NUM_FORMAT(100), 8%ルピ
ENDIF
IF 耳吸い == 1
;恥ずかしいからちょっと高め
	値段計算 += 300
	PRINTFORML %"エルーン耳吸い", 項目幅, LEFT%：＋%NUM_FORMAT(300), 8%ルピ
ENDIF
IF 合意中出し == 1 || 無許可中出し == 1
	中出し価格 = 性処理_セックス処理_中出し価格(対象キャラ, 合意中出し)
	IF 合意中出し == 1
		SETCOLOR カラーパレット("ピンク")
	ELSE
		SETCOLOR カラーパレット("赤ピンク")
	ENDIF
	PRINTFORML %中出し名称, 項目幅, LEFT%：＋%NUM_FORMAT(中出し価格), 8%ルピ
	RESETCOLOR

	;中出しオプション費用キャンセル
	IF 首噛みわからせ == 1
	;エルーンとドラフは首筋を嚙まれると本能的に屈服し、脳がバグって幸せでいっぱいになってしまう。……という独自設定。
	;今回は追加で星晶獣、参戦！星の民によって作られた被造物、命令に従う奉仕種族として造物主に刷り込まれた隷属本能スイッチが入っちゃう感じ。星の民の手から離れれば裏切ったりもできるけど、スイッチ入れられちゃうともうダメ、みたいな。
	;無許可中出しの値段と打ち消しあうので実質無料！
	;なんなら「セックスしてくださって、ありがとうございましたっ♡」って逆にお金払わせたいまである。癖。
		SETCOLOR カラーパレット("ピンク")
		PRINTFORML %"首噛みわからせ", 項目幅, LEFT%：－%NUM_FORMAT(中出し価格), 8%ルピ
		RESETCOLOR
	ELSEIF 精液大好きホールド == 1
		SETCOLOR カラーパレット("ピンク")
		PRINTFORML %"精液大好きホールド", 項目幅, LEFT%：－%NUM_FORMAT(中出し価格), 8%ルピ
		RESETCOLOR
	ELSE
		値段計算 += 中出し価格
	ENDIF
ENDIF
IF 精液お持ち帰り == 1
;精液でお腹たぷたぷさせながら日常に戻ってもらうやつ。いい言い回しが思いつかない
;下着ぐっしょりだしこぼれてきてそこそこ不快だろうから高め
	値段計算 += 1000
	SETCOLOR カラーパレット("薄ピンク")
	PRINTFORML %"精液お持ち帰り", 項目幅, LEFT%：＋%NUM_FORMAT(1000), 8%ルピ
	RESETCOLOR
ENDIF
;オプションは基本的に割引クーポン対象外となっております～
;恋慕は完全無料
IF TALENT:対象キャラ:恋慕
	DRAWLINE
	PRINTFORML 割引き
	SETCOLOR カラーパレット("ピンク")
	PRINTFORM %"だいすき割", 項目幅, LEFT%：　　　　　%CALLNAME:PLAYER%限定100％オフ
	RESETCOLOR
	CALL PRINT_STRL(@"_H_")
	値段計算 *= 0
ELSEIF TALENT:対象キャラ:弱味
	DRAWLINE
	PRINTFORML 割引き
	SETCOLOR カラーパレット("赤")
	PRINTFORM %"弱み", 項目幅, LEFT%：　　　　　99％オフ
	RESETCOLOR
	CALL PRINT_STRL(@"_H_")
	値段計算 /= 100
ENDIF
DRAWLINE
値段計算 = MAX(0, 値段計算)
;オプション分のMONEY処理
MONEY -= 値段計算

オプション込み最終価格 = 値段計算 + RFLAG:コマンド結果受渡し変数２
IF オプション込み最終価格 > 0
	PRINTFORML %"オプション込み最終価格", 項目幅, LEFT%：　%NUM_FORMAT(オプション込み最終価格), 8%ルピ
ELSE
	PRINTFORM %"オプション込み最終価格", 項目幅, LEFT%：　%"無料", 8%
	CALL PRINT_STRL(@"_H_")
ENDIF
DRAWLINE

PRINTFORML %NUM_FORMAT(MONEY + オプション込み最終価格)% - %NUM_FORMAT(オプション込み最終価格)% = %NUM_FORMAT(MONEY)%ルピ

@MESSAGE_性処理_セックス処理_非口上時_射精先選択(対象キャラ, 合意中出し)
#DIM 対象キャラ
#DIM 合意中出し

;とりあえず射精先設定0が膣内射精の場合のみ選択表示省略
SIF オート射精先オプション:0 == 0
	RETURN 0

PRINTFORML 所持ルピ：%MON_FORMAT(MONEY)%
LOCALS = [0] 中に出す（%性処理_セックス処理_中出し名称(対象キャラ, 合意中出し)%：%MON_FORMAT(性処理_セックス処理_中出し価格(対象キャラ, 合意中出し))%）
PRINTBUTTON LOCALS, 0
PRINTL
PRINTBUTTON "[1] 外に出す", 1
PRINTL
BINPUT
RETURN RESULT

@MESSAGE_性処理_セックス処理_非口上時_外出し(対象キャラ, 体位)
#DIM 対象キャラ
#DIM 体位
#DIM 射精箇所
IF 体位 == 0
;お腹
	IF RAND:(ABL:対象キャラ:精液中毒 + 1)	;適当な条件思いつかなかったので仮判定
	;精液大好きホールド
		PRINTL
		PRINTFORML %CALLNAME:対象キャラ%は先ほどの言葉とは裏腹に引き抜こうとする%CALLNAME:PLAYER%を拘束し、咥えこんだままの肉杭を暴発に誘う。
		PRINTL
		CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
		PRINTL
		PRINTFORML %CALLNAME:PLAYER%にたっぷりと快楽を与えられた%CALLNAME:対象キャラ%のまんこはイキ締めでうねり、蠕動して%CALLNAME:PLAYER%の精液を膣奥に吐き出させた。
		PRINTL
		PRINTFORMW %CALLNAME:対象キャラ%は多幸感に浸るかのような吐息を立てながら、最後の一滴まで搾り取った……。
		PRINTL
		PRINTFORML 行為が終わったあと、%CALLNAME:PLAYER%は中に出したぶんの上乗せ料金を渡そうとしたが、
		PRINTFORMW %CALLNAME:対象キャラ%は%TEXTR("恍惚とした/胡乱な/うっとりとした")%表情のままそれを固辞しながら、搾り取った精液を確かめるように自身の下腹をそっと撫でた。
		PRINTL
		射精箇所 = 1
	ELSE
		PRINTL
		PRINTFORMW お腹に出すと%CALLNAME:PLAYER%が告げると、%CALLNAME:対象キャラ%は甘い声で頷いて服をまくりあげた。
		PRINTL
		CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
		PRINTL
		PRINTFORM 晒された
		IF 固有素質チェック(TARGET, "褐色肌")
			PRINTFORM 褐色の%TEXTR("お腹/素肌")%
		ELSE
			PRINTFORM お腹の素肌
		ENDIF
		PRINTFORML に亀頭を押し当て、塗りつけるように精液をぶちまける。
		PRINTL
		PRINTFORMW 滑らかな肌をべっとりと汚す白濁に、%CALLNAME:対象キャラ%は%TEXTR("射精量をからかうようにくすくすと笑った/どこかほっとしたように息をついた/搾り取った精液量にちょっと嬉しそうにはにかんだ")%……。
		PRINTL
		射精箇所 = 0
	ENDIF
ELSE
;お尻
	PRINTL
	PRINTFORMW 「お尻に出すよ」と%CALLNAME:PLAYER%が告げると、%CALLNAME:対象キャラ%は甘い声をあげながら頷いて%CALLNAME:PLAYER%に体を委ねた。
	PRINTL
	CALL PRINT_STRL(@"────どくんっ_H__H__H_どぷっ_H__H__H_びゅるるるぅ～～……っ_H__H__H__H_")
	PRINTL
	PRINTFORM もっちりとした
	IF 固有素質チェック(TARGET, "褐色肌")
		PRINTFORM 褐色の
	ENDIF
	PRINTFORML 尻たぶに亀頭を押し当てて、塗りつけるように精液をぶちまける。
	PRINTL
	IF 固有素質チェック(TARGET, "褐色肌")
		PRINTFORM チョコレート色の
	ENDIF
	PRINTFORMW 滑らかな肌をべっとりと汚す白濁の感触に、%CALLNAME:対象キャラ%は%TEXTR("射精量をからかうようにくすくすと笑った/どこかほっとしたように息をついた/搾り取った精液量にちょっと嬉しそうにはにかんだ")%……。
	PRINTL
	射精箇所 = 0
ENDIF
RETURN 射精箇所

@性処理_セックス処理_中出し価格(対象キャラ, 合意中出し = 0)
#FUNCTION
#DIM 対象キャラ
#DIM 合意中出し
#DIM 中出し価格

;合意を得ているし気持ちよくしてくれたので総じてそんなに高くない
IF 知識素質:対象キャラ:高貴 > 0
;ロイヤル子宮
	IF TALENT:対象キャラ:恋人持ち == 1 || TALENT:対象キャラ:恋人持ち == 2
		中出し価格 = 10000
	ELSE
		中出し価格 = 5000
	ENDIF
ELSEIF TALENT:対象キャラ:恋人持ち == 1 || TALENT:対象キャラ:恋人持ち == 2
;恋人持ちと人妻
	中出し価格 = 3000
ELSEIF アイドル判定(対象キャラ)
	中出し価格 = 3000
ELSEIF 小等部魔法少女判定(対象キャラ) || 固有素質チェック(対象キャラ, "魔法少女")
	中出し価格 = 2000
ELSEIF 固有素質チェック(対象キャラ, "女子高生")
	中出し価格 = 2000
ELSEIF 固有素質チェック(対象キャラ, "中学生")
	中出し価格 = 2000
ELSEIF 固有素質チェック(対象キャラ, "小学生")
	中出し価格 = 2000
ELSE
	中出し価格 = 1500
ENDIF
IF 合意中出し == 0
;無許可では合意の10倍のお値段
;無許可ではあるが無責任ではないオーナー
	中出し価格 *= 10
ENDIF
;もともと中出しになる確率が2分の1だっただめ射精箇所選択処理追加のついでに雑に2倍
中出し価格 *= 2
RETURNF 中出し価格

@性処理_セックス処理_中出し名称(対象キャラ, 合意中出し)
#FUNCTIONS
#DIM 対象キャラ
#DIM 合意中出し
#DIMS 中出し名称

中出し名称 =

IF 知識素質:対象キャラ:高貴 > 0
;ロイヤル子宮
	IF TALENT:対象キャラ:恋人持ち == 1 || TALENT:対象キャラ:恋人持ち == 2
		中出し名称 = \@ 合意中出し ? 高貴な子宮に托卵射精 # 高貴な子宮に無許可托卵射精 \@
	ELSE
		中出し名称 = \@ 合意中出し ? お世継ぎ孕ませ射精 # お世継ぎ孕ませレイプ射精 \@
	ENDIF
ELSEIF TALENT:対象キャラ:恋人持ち == 1 || TALENT:対象キャラ:恋人持ち == 2
;恋人持ちと人妻
	中出し名称 = \@ 合意中出し ? 托卵ナマ中出し # 無許可托卵ナマ中出し \@
ELSE
	IF アイドル判定(対象キャラ)
		中出し名称 = アイドル
	ELSEIF 小等部魔法少女判定(対象キャラ) || 固有素質チェック(対象キャラ, "魔法少女")
		中出し名称 = 魔法少女
	ELSEIF 固有素質チェック(対象キャラ, "女子高生")
		中出し名称 = 女子高生
	ELSEIF 固有素質チェック(対象キャラ, "中学生")
		中出し名称 = 中学生
	ELSEIF 固有素質チェック(対象キャラ, "小学生")
		中出し名称 = 小学生
	ENDIF
	IF 中出し名称 == "" 
		中出し名称 = \@ 合意中出し ? ナマ中出し # 無許可ナマ中出し \@
	ELSE
		中出し名称 += \@ 合意中出し ? %TEXTR("にナマ中出し/に孕ませ射精/との子作りえっち")% # %TEXTR("に無許可ナマ中出し/に無許可孕ませ射精/とのムリヤリ子作り射精")% \@
	ENDIF
ENDIF
IF あなた特殊能力:朔望鑑定術 >= 2
	SELECTCASE RISKY_DAY(対象キャラ)
	CASE 1
		中出し名称 = 危険日%中出し名称%
	CASE 2
		中出し名称 = 超危険日%中出し名称%
	ENDSELECT
ENDIF
RETURNF 中出し名称
